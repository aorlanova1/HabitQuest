{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const GoalForm=_ref=>{let{setGoals,onGoalAdded}=_ref;const[name,setName]=useState('');const[description,setDescription]=useState('');const[type,setType]=useState('daily');const[priority,setPriority]=useState('medium');const[icon,setIcon]=useState('default');const[notes,setNotes]=useState('');const[error,setError]=useState('');const handleSubmit=async e=>{e.preventDefault();if(name.length<3){setError('Goal name must be at least 3 characters long');return;}const token=localStorage.getItem('token');const newGoal={name,description,type:type,priority,icon,notes};// Ensure 'frequency' is sent as 'type'\ntry{const res=await axios.post('/api/goals',newGoal,{headers:{'x-auth-token':token}});setGoals(prev=>[...prev,res.data]);setName('');setDescription('');setType('daily');setPriority('medium');setIcon('default');setNotes('');setError('');if(onGoalAdded)onGoalAdded();}catch(err){var _err$response,_err$response$data;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.msg)||'Failed to add goal');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"goal-form card\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Add a New Goal\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Goal Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"e.g., Drink 8 glasses of water\",value:name,onChange:e=>setName(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Describe your goal (optional)\",value:description,onChange:e=>setDescription(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Type\"}),/*#__PURE__*/_jsxs(\"select\",{value:type,onChange:e=>setType(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"daily\",children:\"Daily\"}),/*#__PURE__*/_jsx(\"option\",{value:\"weekly\",children:\"Weekly\"}),/*#__PURE__*/_jsx(\"option\",{value:\"monthly\",children:\"Monthly\"}),/*#__PURE__*/_jsx(\"option\",{value:\"yearly\",children:\"Yearly\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Priority\"}),/*#__PURE__*/_jsxs(\"select\",{value:priority,onChange:e=>setPriority(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"low\",children:\"Low\"}),/*#__PURE__*/_jsx(\"option\",{value:\"medium\",children:\"Medium\"}),/*#__PURE__*/_jsx(\"option\",{value:\"high\",children:\"High\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Icon\"}),/*#__PURE__*/_jsxs(\"select\",{value:icon,onChange:e=>setIcon(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"default\",children:\"Default Icon\"}),/*#__PURE__*/_jsx(\"option\",{value:\"star\",children:\"\\u2B50 Star\"}),/*#__PURE__*/_jsx(\"option\",{value:\"heart\",children:\"\\u2764\\uFE0F Heart\"}),/*#__PURE__*/_jsx(\"option\",{value:\"book\",children:\"\\uD83D\\uDCDA Book\"}),/*#__PURE__*/_jsx(\"option\",{value:\"run\",children:\"\\uD83C\\uDFC3 Run\"}),/*#__PURE__*/_jsx(\"option\",{value:\"apple\",children:\"\\uD83C\\uDF4E Apple\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Notes\"}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Notes (e.g., how did it go?)\",value:notes,onChange:e=>setNotes(e.target.value)})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Add Goal\"}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:error})]})]});};export default GoalForm;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","GoalForm","_ref","setGoals","onGoalAdded","name","setName","description","setDescription","type","setType","priority","setPriority","icon","setIcon","notes","setNotes","error","setError","handleSubmit","e","preventDefault","length","token","localStorage","getItem","newGoal","res","post","headers","prev","data","err","_err$response","_err$response$data","response","msg","className","children","onSubmit","placeholder","value","onChange","target","required"],"sources":["C:/Users/aryan/Documents/HabitQuest/client/src/components/GoalForm.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst GoalForm = ({ setGoals, onGoalAdded }) => {\r\n  const [name, setName] = useState('');\r\n  const [description, setDescription] = useState('');\r\n  const [type, setType] = useState('daily');\r\n  const [priority, setPriority] = useState('medium');\r\n  const [icon, setIcon] = useState('default');\r\n  const [notes, setNotes] = useState('');\r\n  const [error, setError] = useState('');\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (name.length < 3) {\r\n      setError('Goal name must be at least 3 characters long');\r\n      return;\r\n    }\r\n\r\n    const token = localStorage.getItem('token');\r\n    const newGoal = { name, description, type: type, priority, icon, notes }; // Ensure 'frequency' is sent as 'type'\r\n    try {\r\n      const res = await axios.post('/api/goals', newGoal, { headers: { 'x-auth-token': token } });\r\n      setGoals(prev => [...prev, res.data]);\r\n      setName('');\r\n      setDescription('');\r\n      setType('daily');\r\n      setPriority('medium');\r\n      setIcon('default');\r\n      setNotes('');\r\n      setError('');\r\n      if (onGoalAdded) onGoalAdded();\r\n    } catch (err) {\r\n      setError(err.response?.data?.msg || 'Failed to add goal');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"goal-form card\">\r\n      <h2>Add a New Goal</h2>\r\n      <form onSubmit={handleSubmit}>\r\n        <div className=\"form-group\">\r\n          <label>Goal Name</label>\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"e.g., Drink 8 glasses of water\"\r\n            value={name}\r\n            onChange={(e) => setName(e.target.value)}\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Description</label>\r\n          <textarea\r\n            placeholder=\"Describe your goal (optional)\"\r\n            value={description}\r\n            onChange={(e) => setDescription(e.target.value)}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Type</label>\r\n          <select value={type} onChange={(e) => setType(e.target.value)}>\r\n            <option value=\"daily\">Daily</option>\r\n            <option value=\"weekly\">Weekly</option>\r\n            <option value=\"monthly\">Monthly</option>\r\n            <option value=\"yearly\">Yearly</option>\r\n          </select>\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Priority</label>\r\n          <select value={priority} onChange={(e) => setPriority(e.target.value)}>\r\n            <option value=\"low\">Low</option>\r\n            <option value=\"medium\">Medium</option>\r\n            <option value=\"high\">High</option>\r\n          </select>\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Icon</label>\r\n          <select value={icon} onChange={(e) => setIcon(e.target.value)}>\r\n            <option value=\"default\">Default Icon</option>\r\n            <option value=\"star\">‚≠ê Star</option>\r\n            <option value=\"heart\">‚ù§Ô∏è Heart</option>\r\n            <option value=\"book\">üìö Book</option>\r\n            <option value=\"run\">üèÉ Run</option>\r\n            <option value=\"apple\">üçé Apple</option>\r\n          </select>\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Notes</label>\r\n          <textarea\r\n            placeholder=\"Notes (e.g., how did it go?)\"\r\n            value={notes}\r\n            onChange={(e) => setNotes(e.target.value)}\r\n          />\r\n        </div>\r\n        <button type=\"submit\">Add Goal</button>\r\n        {error && <p className=\"error\">{error}</p>}\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GoalForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}